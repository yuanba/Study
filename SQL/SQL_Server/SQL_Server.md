## SQL Server

### SQL Server引擎实例

1. 数据库引擎实例管理多个系统数据库和用户数据库
2. 每台计算机可以运行多个数据库引擎实例，一台计算机上只可以安装一个数据库默认实例
3. 应用程序只有通过数据库实例才可以访问具体的数据库
4. 一个数据库实例就是一个进程
5. 实例处理所有的数据库请求的服务操作，应用程序讲对应的SQL语句传递给我们的数据库实例，实例讲对应的SQL语句拆分成对应的操作并将结果返还给应用程序
6. SQL Server服务是对应的数据库实例的windows进程，必须要保证该服务是处于运行状态(SQL Server的配置管理器中)

### SQL Server Management Studio工具

连接SQL Server服务器的的工具

1. 对象资源管理器的按钮的作用 : 连接(新用户链接别的数据库)，断开连接，停止，刷新，筛选

2. 查询编辑器

   点击新建查询打开了我们的新的查询窗口可以执行SQL语句，并且还可以讲结果保存到对应的文件或者其他的数据保存实例中

3. 数据库

   在对象资源管理器中我们打开对应的数据库的内容可以显示当前连接上的所有的数据库

4. 安全性

   在对应的对象资源管理器中打开对应的安全性的选项可以打开我们的安全查询选项，在其中的登录名中可以查看到我们的当前的登录账户

### 身份验证模式的设定

无论是哪一种身份验证模式都需要我们连接到对应的数据库服务器

* Windows身份验证模式

  假定登录的Windows账户是安全的，登录数据库的时候不需要额外提供账户名和密码，**是相对第二种来说的更安全的登录方式**,**更常用**

* SQL Server和Windows混合验证模式

  提供具体的SQL Server登录的账户和密码,比如说是使用网络链接的用户，或者特殊的应用程序，只能使用SQL Server的方式登录

修改身份验证的的登录模式

* 右键SSMS对象资源管理器的PC服务器后选择属性打开服务器属性窗口
* 选中安全性切换之后确定

### 登录管理

1. Windows新账户登录SQL Server
   * 控制面板创建新的额windows账户
   * 使用新的windows账户的登录系统
   * 登录之后使用windows验证登录进入
2. SQL Server账户登录
   * 对象资源管理的安全性右键打开新建登录
   * 可以再脚本选项中讲我们本次操作的对应的SQL语句保存到文件中一遍下次使用

### 修改sa的登录和口令状态

sa登录是特殊登录，是最高权限登录，需要对密码进行重点的保护	

在对象资源管理中的安全性中打开sa进行管理在状态中打开登录启用并可以修改密码

* 记住必须要使用SQL Server和Windows混合登录模式


* 勾去强制密码策略
* 状态中勾选启用sa登录的选择
* 修改自己的密码


* 在对象资源管理中断开连接并重新登录，记住重启

## 安全管理

### 服务器角色授予登录权限

1. 系统定义了9个对数据库的服务器操作权限，但是仅限于添加和删除成员，不可创建服务器角色和删除服务器角色，也不可修改服务器角色权限，是固定的服务器角色
2. 可以创建服务器角色并进行权限设定
3. 将某一个登录添加到一个服务器角色中，该账户登录就继承了而对应的服务器角色的操作权限
4. 如果不需要对服务器进行管理，一般使用数据库角色进行权限的配置